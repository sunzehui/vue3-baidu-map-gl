import{d as S,r as q,q as L,f as t,o,c as p,b as a,a as B,g as e,j as I,p as s,F as O,l as h,t as l,e as g}from"./app.0551e7b4.js";const w={id:"usebrowserlocation",tabindex:"-1"},x=a("a",{class:"header-anchor",href:"#usebrowserlocation","aria-hidden":"true"},"#",-1),R=g(`<p>\u7528\u4E8E\u83B7\u53D6\u7528\u6237\u6240\u5728\u7684\u57CE\u5E02\u4F4D\u7F6E\u4FE1\u606F(\u6839\u636E\u6D4F\u89C8\u5668\u539F\u751F\u5B9A\u4F4D\u6216\u8005\u7ED3\u5408\u5B89\u5353\u5B9A\u4F4D SDK \u8F85\u52A9\u5B9A\u4F4D)\uFF0C\u76F8\u6BD4<a href="./useIpLocation">Ip \u5B9A\u4F4D</a>\u83B7\u53D6\u7684\u4FE1\u606F\u66F4\u4E30\u5BCC\uFF0C\u4F46\u7A33\u5B9A\u6027\u5E76\u4E0D\u9AD8\uFF0C\u6709\u65F6\u5019\u5F88\u7CBE\u51C6\uFF0C\u6709\u65F6\u5019\u98D8\u534A\u4E2A\u4E2D\u56FD\u3002</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useBrowserLocation</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue3-baidu-map-gl</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">\u6CE8\u610F</p><ol><li>\u7531\u4E8E Chrome\u3001iOS10 \u4EE5\u4E0A\u7CFB\u7EDF\u7B49\u5DF2\u4E0D\u518D\u652F\u6301\u975E\u5B89\u5168\u57DF\u7684\u6D4F\u89C8\u5668\u5B9A\u4F4D\u8BF7\u6C42\uFF0C\u4E3A\u4FDD\u8BC1\u5B9A\u4F4D\u6210\u529F\u7387\u548C\u7CBE\u5EA6\uFF0C\u8BF7\u5C3D\u5FEB\u5347\u7EA7\u60A8\u7684\u7AD9\u70B9\u5230 HTTPS\u3002</li><li>iOS15 \u7CFB\u7EDF\u6D4F\u89C8\u5668\u9ED8\u8BA4\u5173\u95ED\u4F4D\u7F6E\u8BF7\u6C42\uFF0C\u9700\u8981\u7528\u6237\u8BBE\u7F6E\u624B\u673A\u4E3A\u5141\u8BB8/\u8BE2\u95EE\u540E\u65B9\u53EF\u83B7\u53D6\u7CBE\u786E\u7684\u5B9A\u4F4D,\u5B9A\u4F4D\u6743\u9650\u7684\u5F00\u542F\u65B9\u5F0F\u8BF7\u53C2\u89C1 iOS15 \u5B9A\u4F4D\u95EE\u9898\u3002</li><li>\u7531\u4E8E\u6D4F\u89C8\u5668\u539F\u751F\u5B9A\u4F4D\u6210\u529F\u7387\u5E76\u4E0D\u9AD8\uFF0C\u53EF\u4EE5\u5C1D\u8BD5 <a href="./useIpLocation">Ip \u5B9A\u4F4D</a> \u548C <a href="https://lbsyun.baidu.com/index.php?title=android-locsdk/guide/addition-func/assistant-h5" target="_blank" rel="noreferrer">\u5B89\u5353 SDK \u5B9A\u4F4D</a> \u8FDB\u884C\u8F85\u52A9\uFF0C\u5982\u679C\u5B9A\u4F4D\u7CBE\u51C6\u5728\u57CE\u5E02\u7EA7\u522B\uFF0C\u53EF\u8054\u7CFB\u767E\u5EA6\u5730\u56FE\u63D0\u4F9B ak \u4EE5\u63D0\u9AD8\u5B9A\u4F4D\u7CBE\u51C6\u5EA6\u3002</li></ol></div><h2 id="\u793A\u4F8B" tabindex="-1">\u793A\u4F8B <a class="header-anchor" href="#\u793A\u4F8B" aria-hidden="true">#</a></h2>`,4),M={key:0,class:"state"},T=a("h5",null,"\u5B9A\u4F4D:",-1),N=a("br",null,null,-1),P={key:1,class:"state"},U={key:2,class:"state"},K=g(`<details class="details custom-block"><summary>\u70B9\u51FB\u67E5\u770B\u4EE3\u7801</summary><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Map</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">enableScrollWheelZoom</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@initd</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:center</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">location.point || undefined</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-if</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">!isLoading</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Marker</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:position</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">location.point</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">Marker</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Circle</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">stroke-style</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">solid</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">strokeColor</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#0099ff</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">:strokeOpacity</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.8</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">fillColor</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#0099ff</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">:fillOpacity</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.5</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">:center</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">location.point</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#C792EA;">:radius</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">location.accuracy</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">      /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">Map</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">state</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-if</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">!isLoading &amp;&amp; !isError</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h5</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u5B9A\u4F4D:</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h5</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      \u57CE\u5E02 - {{ location.address?.province }}-{{ location.address?.city }}-{{ location.address?.district }}-{{</span></span>
<span class="line"><span style="color:#A6ACCD;">      location.address?.street }}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u7EAC\u5EA6 - {{ location.point?.lat }}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u7ECF\u5EA6 - {{ location.point?.lng }}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u5B9A\u4F4D\u7CBE\u5EA6 - {{ location.accuracy }}m</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">state</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-else-if</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">isError</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u51FA\u9519\u4E86\uFF0C{{ status }}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">state</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-else</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u5B9A\u4F4D\u4E2D...</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-if</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">!isLoading</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u91CD\u65B0\u83B7\u53D6</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useBrowserLocation</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Marker</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Circle</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue3-baidu-map-gl</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> map </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> location</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> isLoading</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> isError</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> status </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useBrowserLocation</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">null,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resetCenter</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">state</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">margin-top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">state</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">span</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#B2CCD6;">margin-right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">25px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div></details><h2 id="\u7528\u6CD5" tabindex="-1">\u7528\u6CD5 <a class="header-anchor" href="#\u7528\u6CD5" aria-hidden="true">#</a></h2><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> get</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> location</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> isLoading</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> isError</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> status </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useBrowserLocation</span><span style="color:#A6ACCD;">(options</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cal)</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>\u8BE5 hooks \u4F9D\u8D56\u4E8E <code>BMapGL</code> \uFF0C\u6240\u4EE5\u9700\u8981\u5728 <code>Map</code> \u7EC4\u4EF6\u521D\u59CB\u5316\u5B8C\u6BD5\u8C03\u7528 <code>get</code> \u65B9\u6CD5\u540E\u6570\u636E\u624D\u53EF\u7528</p></div><h3 id="\u53C2\u6570" tabindex="-1">\u53C2\u6570 <a class="header-anchor" href="#\u53C2\u6570" aria-hidden="true">#</a></h3><table><thead><tr><th>\u53C2\u6570</th><th>\u63CF\u8FF0</th><th>\u7C7B\u578B</th><th>\u9ED8\u8BA4\u503C</th></tr></thead><tbody><tr><td>options</td><td>\u6D4F\u89C8\u5668\u5B9A\u4F4D\u914D\u7F6E\u9879</td><td><a href="#usebrowserlocationoptions"><code>UseBrowserLocationOptions</code></a></td><td>-</td></tr><tr><td>cal</td><td>\u5B9A\u4F4D\u6210\u529F\u540E\u7684\u56DE\u8C03\u51FD\u6570</td><td><code>(location: Ref&lt;Location&gt;) =&gt; void</code></td><td>-</td></tr></tbody></table><h4 id="usebrowserlocationoptions" tabindex="-1">UseBrowserLocationOptions <a class="header-anchor" href="#usebrowserlocationoptions" aria-hidden="true">#</a></h4><table><thead><tr><th>\u5C5E\u6027</th><th>\u63CF\u8FF0</th><th>\u7C7B\u578B</th><th>\u9ED8\u8BA4\u503C</th></tr></thead><tbody><tr><td>enableSDKLocation</td><td>\u662F\u5426\u542F\u7528\u5B89\u5353\u5B9A\u4F4D SDK \u8F85\u52A9\u5B9A\u4F4D\uFF0C\u9002\u7528\u4E8E\u5B89\u5353 WebView \u9875\u9762\uFF0C<a href="https://lbsyun.baidu.com/index.php?title=android-locsdk/guide/addition-func/assistant-h5" target="_blank" rel="noreferrer">\u8BE6\u89C1</a></td><td><code>boolean</code></td><td><code>false</code></td></tr><tr><td>enableHighAccuracy</td><td>\u662F\u5426\u8981\u6C42\u6D4F\u89C8\u5668\u83B7\u53D6\u6700\u4F73\u6548\u679C\uFF0C\u540C<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Geolocation/getCurrentPosition" target="_blank" rel="noreferrer">\u6D4F\u89C8\u5668\u5B9A\u4F4D</a>\u63A5\u53E3\u53C2\u6570</td><td><code>boolean</code></td><td><code>false</code></td></tr><tr><td>timeout</td><td>\u8D85\u65F6\u65F6\u95F4</td><td><code>number</code></td><td><code>10000</code></td></tr><tr><td>maximumAge</td><td>\u5141\u8BB8\u8FD4\u56DE\u6307\u5B9A\u4E8B\u4EF6\u5185\u7684\u7F13\u5B58\u7ED3\u679C\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002\u5982\u679C\u4E3A<code>0</code>\uFF0C\u5219\u6BCF\u6B21\u8BF7\u6C42\u90FD\u83B7\u53D6\u6700\u65B0\u7684\u5B9A\u4F4D\u7ED3\u679C\u3002\u9ED8\u8BA4\u4E3A<code>10</code>\u5206\u949F</td><td><code>number</code></td><td><code>600,000</code></td></tr></tbody></table><h3 id="\u5F15\u7528" tabindex="-1">\u5F15\u7528 <a class="header-anchor" href="#\u5F15\u7528" aria-hidden="true">#</a></h3><table><thead><tr><th>\u5F15\u7528</th><th>\u63CF\u8FF0</th><th>\u7C7B\u578B</th></tr></thead><tbody><tr><td>isLoading</td><td>\u662F\u5426\u5728\u83B7\u53D6\u4E2D</td><td><code>boolean</code></td></tr><tr><td>location</td><td>\u5B9A\u4F4D\u4FE1\u606F</td><td><a href="#location"><code>Location</code></a></td></tr><tr><td>get</td><td>\u83B7\u53D6\u5B9A\u4F4D\u65B9\u6CD5\uFF0C\u9700\u8981\u5728<code>Map</code>\u7EC4\u4EF6<code>initd</code>\u4E8B\u4EF6\u89E6\u53D1\u540E\u624D\u53EF\u8C03\u7528</td><td><code>() =&gt; void</code></td></tr><tr><td>isError</td><td>\u662F\u5426\u5B9A\u4F4D\u51FA\u9519</td><td><code>boolean</code></td></tr><tr><td>status</td><td>\u5B9A\u4F4D\u72B6\u6001</td><td><a href="#status"><code>Status</code></a></td></tr></tbody></table><h4 id="location" tabindex="-1">Location <a class="header-anchor" href="#location" aria-hidden="true">#</a></h4><table><thead><tr><th>\u5C5E\u6027</th><th>\u63CF\u8FF0</th><th>\u7C7B\u578B</th></tr></thead><tbody><tr><td>accuracy</td><td>\u5B9A\u4F4D\u7CBE\u5EA6</td><td><code>number</code></td></tr><tr><td>point</td><td>\u7ECF\u7EAC\u5EA6\u70B9</td><td><code>{ lng: number lat: number }</code></td></tr><tr><td>address</td><td>\u5B9A\u4F4D\u5730\u5740</td><td><a href="#address"><code>Address</code></a></td></tr></tbody></table><h4 id="status" tabindex="-1">Status <a class="header-anchor" href="#status" aria-hidden="true">#</a></h4><table><thead><tr><th>status</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>BMAP_STATUS_SUCCESS</td><td>\u5B9A\u4F4D\u6210\u529F</td></tr><tr><td>ERR_POSITION_TIMEOUT</td><td>\u5B9A\u4F4D\u8D85\u65F6</td></tr><tr><td>ERR_POSITION_UNAVAILABLE</td><td>\u5B9A\u4F4D\u4E0D\u53EF\u7528</td></tr><tr><td>ERR_PERMISSION_DENIED</td><td>\u6CA1\u6709\u6743\u9650\uFF0C\u5B9A\u4F4D\u88AB\u62D2\u7EDD</td></tr></tbody></table><h4 id="address" tabindex="-1">Address <a class="header-anchor" href="#address" aria-hidden="true">#</a></h4><table><thead><tr><th>\u5C5E\u6027</th><th>\u63CF\u8FF0</th><th>\u7C7B\u578B</th></tr></thead><tbody><tr><td>country</td><td>\u56FD\u5BB6</td><td><code>string</code></td></tr><tr><td>city</td><td>\u57CE\u5E02</td><td><code>string</code></td></tr><tr><td>city_code</td><td>\u57CE\u5E02 code</td><td><code>string</code></td></tr><tr><td>district</td><td>\u884C\u653F\u533A</td><td><code>string</code></td></tr><tr><td>province</td><td>\u7701\u4EFD</td><td><code>string</code></td></tr><tr><td>street</td><td>\u8857\u9053</td><td><code>string</code></td></tr><tr><td>street_number</td><td>\u57CE\u5E02 code</td><td><code>string</code></td></tr></tbody></table><h2 id="ts-\u7C7B\u578B\u5B9A\u4E49\u53C2\u8003" tabindex="-1">TS \u7C7B\u578B\u5B9A\u4E49\u53C2\u8003 <a class="header-anchor" href="#ts-\u7C7B\u578B\u5B9A\u4E49\u53C2\u8003" aria-hidden="true">#</a></h2><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Point</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./usePoint</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">UseBrowserLocationOptions</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">   * \u662F\u5426\u5F00\u542FSDK\u8F85\u52A9\u5B9A\u4F4D\uFF0C\u4EC5\u5F53\u4F7F\u7528\u73AF\u5883\u4E3A\u79FB\u52A8web\u6DF7\u5408\u5F00\u53D1\uFF0C\u4E14\u5F00\u542F\u4E86\u5B9A\u4F4Dsdk\u8F85\u52A9\u5B9A\u4F4D\u529F\u80FD\u540E\u751F\u6548</span></span>
<span class="line"><span style="color:#676E95;">   */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enableSDKLocation</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">   * \u662F\u5426\u8981\u6C42\u6D4F\u89C8\u5668\u83B7\u53D6\u6700\u4F73\u6548\u679C\uFF0C\u540C\u6D4F\u89C8\u5668\u5B9A\u4F4D\u63A5\u53E3\u53C2\u6570\u3002\u9ED8\u8BA4\u4E3Afalse</span></span>
<span class="line"><span style="color:#676E95;">   */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">enableHighAccuracy</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">   * \u8D85\u65F6\u4E8B\u4EF6\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002\u9ED8\u8BA4\u4E3A10\u79D2</span></span>
<span class="line"><span style="color:#676E95;">   */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">timeout</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">   * \u5141\u8BB8\u8FD4\u56DE\u6307\u5B9A\u4E8B\u4EF6\u5185\u7684\u7F13\u5B58\u7ED3\u679C\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002\u5982\u679C\u4E3A0\uFF0C\u5219\u6BCF\u6B21\u8BF7\u6C42\u90FD\u83B7\u53D6\u6700\u65B0\u7684\u5B9A\u4F4D\u7ED3\u679C\u3002\u9ED8\u8BA4\u4E3A10\u5206\u949F</span></span>
<span class="line"><span style="color:#676E95;">   */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">maximumAge</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">   * \u662F\u5426\u5F00\u542FSDK\u8F85\u52A9\u5B9A\u4F4D</span></span>
<span class="line"><span style="color:#676E95;">   */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">SDKLocation</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Status</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">BMAP_STATUS_SUCCESS</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ERR_PERMISSION_DENIED</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ERR_POSITION_UNAVAILABLE</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ERR_POSITION_TIMEOUT</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Location</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">accuracy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">point</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Point</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">address</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">country</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">city</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">city_code</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">district</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">province</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">street</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">street_number</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">declare</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useBrowserLocation</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">UseBrowserLocationOptions</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">cal</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">location</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Location</span><span style="color:#89DDFF;">&gt;)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">isLoading</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">isError</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">status</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Status</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">undefined</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">location</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Location</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,18),G=JSON.parse('{"title":"useBrowserLocation","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u793A\u4F8B","slug":"\u793A\u4F8B","link":"#\u793A\u4F8B","children":[]},{"level":2,"title":"\u7528\u6CD5","slug":"\u7528\u6CD5","link":"#\u7528\u6CD5","children":[{"level":3,"title":"\u53C2\u6570","slug":"\u53C2\u6570","link":"#\u53C2\u6570","children":[]},{"level":3,"title":"\u5F15\u7528","slug":"\u5F15\u7528","link":"#\u5F15\u7528","children":[]}]},{"level":2,"title":"TS \u7C7B\u578B\u5B9A\u4E49\u53C2\u8003","slug":"ts-\u7C7B\u578B\u5B9A\u4E49\u53C2\u8003","link":"#ts-\u7C7B\u578B\u5B9A\u4E49\u53C2\u8003","children":[]}],"relativePath":"zh/hooks/useBrowserLocation.md","lastUpdated":1669135094000}'),V={name:"zh/hooks/useBrowserLocation.md"},Z=S({...V,setup(z){const u=q(),{get:c,location:n,isLoading:r,isError:F,status:b}=L(null,()=>{u.value.resetCenter()});return(W,D)=>{var y,C,A,i,d,E;const m=t("Badge"),f=t("Marker"),_=t("Circle"),v=t("Map");return o(),p("div",null,[a("h1",w,[B("useBrowserLocation "),e(m,{type:"tip",text:"^0.0.33"}),B(),x]),R,a("div",null,[e(v,{enableScrollWheelZoom:"",ref_key:"map",ref:u,onInitd:s(c),center:s(n).point||void 0},{default:I(()=>[s(r)?h("",!0):(o(),p(O,{key:0},[e(f,{position:s(n).point},null,8,["position"]),e(_,{strokeStyle:"solid",strokeColor:"#0099ff",strokeOpacity:.8,fillColor:"#0099ff",fillOpacity:.5,center:s(n).point,radius:s(n).accuracy},null,8,["strokeOpacity","fillOpacity","center","radius"])],64))]),_:1},8,["onInitd","center"]),!s(r)&&!s(F)?(o(),p("div",M,[T,a("span",null,"\u57CE\u5E02 - "+l((y=s(n).address)==null?void 0:y.province)+"-"+l((C=s(n).address)==null?void 0:C.city)+"-"+l((A=s(n).address)==null?void 0:A.district)+"-"+l((i=s(n).address)==null?void 0:i.street),1),a("span",null,"\u7EAC\u5EA6 - "+l((d=s(n).point)==null?void 0:d.lat),1),a("span",null,"\u7ECF\u5EA6 - "+l((E=s(n).point)==null?void 0:E.lng),1),N,a("span",null,"\u5B9A\u4F4D\u7CBE\u5EA6 - "+l(s(n).accuracy)+"m",1)])):s(F)?(o(),p("div",P," \u51FA\u9519\u4E86\uFF0C"+l(s(b)),1)):(o(),p("div",U," \u5B9A\u4F4D\u4E2D... ")),s(r)?h("",!0):(o(),p("button",{key:3,class:"myButton",onClick:D[0]||(D[0]=(...k)=>s(c)&&s(c)(...k))},"\u91CD\u65B0\u83B7\u53D6"))]),K])}}});export{G as __pageData,Z as default};
